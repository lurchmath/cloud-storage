function LocalStorageFileSystem(e){this.key=e||"_fileSystem"}LocalStorageFileSystem.prototype.getAccess=function(e,t){try{var l=this.key+"_dummy_data";localStorage.setItem(l,l),localStorage.removeItem(l),e()}catch(e){t(e)}},LocalStorageFileSystem.prototype.readFolder=function(e,t,l){0!=e.length&&l("LocalStorage is a flat file system.");for(var o=[],a=0;a<localStorage.length;a++){var i=localStorage.key(a);i.substring(0,this.key.length)==this.key&&o.push({type:"file",name:i.substring(this.key.length)})}t(o)},LocalStorageFileSystem.prototype.readFile=function(e,t,l){1!=e.length&&l("Invalid file path: /"+e.join("/"));var o=localStorage.getItem(this.key+e[0]);"string"!=typeof o&&l("No such file: "+e[0]),t(o)},LocalStorageFileSystem.prototype.writeFile=function(e,t,l,o){1!=e.length&&o("Invalid file path: /"+e.join("/"));try{localStorage.setItem(this.key+e[0],t)}catch(e){o(e)}l("File written successfully.")};